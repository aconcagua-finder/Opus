# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏ —Å–ª–æ–≤ ‚Äî —à–ø–∞—Ä–≥–∞–ª–∫–∞

## –°—Ç–∞—Ç—É—Å: 100% ‚úÖ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∞ –≤ production-—Å—Ç–µ–∫. –î–æ–∫—É–º–µ–Ω—Ç —Å–ª—É–∂–∏—Ç –±—ã—Å—Ç—Ä–æ–∏ÃÜ –ø–∞–º—è—Ç–∫–æ–π –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –∫–ª—é—á–µ–≤—ã–º —Ñ–∞–π–ª–∞–º –∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **Prisma –º–æ–¥–µ–ª–∏** (`prisma/schema.prisma`)
   - `WordList` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏ –∞–≤—Ç–æ-—Å–ø–∏—Å–∫–∏
   - `WordListItem` ‚Äî —Å–≤—è–∑—å —Å–ª–æ–≤–∞—Ä—è –∏ —Å–ø–∏—Å–∫–æ–≤
   - `WordListType` ‚Äî `CUSTOM`, `AUTO_7_DAYS`, `AUTO_14_DAYS`, `AUTO_28_DAYS`
2. **API**
   - `GET/POST /api/word-lists` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
   - `GET/PUT/DELETE /api/word-lists/:id` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–ø–∏—Å–∫–æ–º
   - `POST/DELETE /api/word-lists/:id/items` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤
   - –ê–≤—Ç–æ-—Å–ø–∏—Å–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ë–î, —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –Ω–∞ –ª–µ—Ç—É (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7/14/28 –¥–Ω–µ–π)
3. **–°—Ç–æ—Ä –∏ —Ö—É–∫–∏**
   - `useWordListsStore` ‚Äî Zustand store —Å –∫–µ—à–µ–º –∏ –∞–≤—Ç–æ—Å—á—ë—Ç—á–∏–∫–∞–º–∏
   - `useWordLists` ‚Äî —É–¥–æ–±–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - `WordListsPanel` ‚Äî –ø–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
   - `WordListManager` ‚Äî –º–æ–¥–∞–ª–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–æ—Ä—Ç–∞–ª `Modal`)
   - `AddToListButton` ‚Äî –∫–Ω–æ–ø–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö, –º–µ–Ω—é —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `createPortal`

---

## üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

| –†–∞–∑–¥–µ–ª | –§–∞–π–ª |
| --- | --- |
| API | `app/api/word-lists/route.ts` ¬∑ `app/api/word-lists/[id]/route.ts` ¬∑ `app/api/word-lists/[id]/items/route.ts` |
| –ö–ª–∏–µ–Ω—Ç | `features/dictionary/api/word-lists.ts` |
| Zustand | `features/dictionary/stores/word-lists-store.ts` |
| –•—É–∫–∏ | `features/dictionary/hooks/use-word-lists.ts` |
| UI | `features/dictionary/components/word-lists-panel.tsx` ¬∑ `word-list-manager.tsx` ¬∑ `add-to-list-button.tsx` |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | `features/dictionary/components/dictionary-list.tsx` |

---

## üß≠ UX-–∑–∞–º–µ—Ç–∫–∏

- –í –ø–∞–Ω–µ–ª–∏ ¬´–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–ø–∏—Å–∫–∏¬ª –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ-—Å–ø–∏—Å–∫–∏ (7/14/28 –¥–Ω–µ–π) ‚Äî –æ–Ω–∏ read-only.
- –†–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–µ—Å—è –º–µ–Ω—é `AddToListButton` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∞–ª –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ, —á—Ç–æ–±—ã –Ω–µ –ø—Ä—è—Ç–∞—Ç—å—Å—è –∑–∞ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏.
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤; –∞–≤—Ç–æ-—Å–ø–∏—Å–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã –Ω–∞ –±—ç–∫–µ.
- –¶–≤–µ—Ç –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ 8 –ø—Ä–µ—Å–µ—Ç–æ–≤ ‚Äî –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö hex.
- –§–∏–ª—å—Ç—Ä —Å–ª–æ–≤–∞—Ä—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å `activeListId`, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç.

---

## üîÑ –†–∞–±–æ—Ç–∞ —Å Prisma Client

1. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `schema.prisma` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ:
   ```bash
   npx prisma generate
   docker exec opus-app-dev npx prisma generate
   docker restart opus-app-dev
   ```
2. –û—à–∏–±–∫–∞ `Cannot read properties of undefined (reading 'findMany')` –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ Next.js –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –±–∞–Ω–¥–ª.

---

## üß™ –ß–µ–∫-–ª–∏—Å—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ + —Ü–≤–µ—Ç)
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è/–æ–ø–∏—Å–∞–Ω–∏—è/—Ü–≤–µ—Ç–∞
- [ ] –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤ —á–µ—Ä–µ–∑ `AddToListButton`
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ–≤–∞—Ä—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ (–≤–∫–ª—é—á–∞—è –∞–≤—Ç–æ-—Å–ø–∏—Å–∫–∏)
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤ –≤ –∞–≤—Ç–æ-—Å–ø–∏—Å–∫–∞—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º (7/14/28 –¥–Ω–µ–π)
- [ ] –ú–æ–¥–∞–ª–∫–∞ –∏ –¥—Ä–æ–ø–¥–∞—É–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º (–ø–æ—Ä—Ç–∞–ª—ã + —Å–∫—Ä–æ–ª–ª)
- [ ] –û—à–∏–±–∫–∏ API –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ UI (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏–∫–∞—Ç –∏–º–µ–Ω–∏ —Å–ø–∏—Å–∫–∞)

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ü–µ–ø–æ—á–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate
docker exec opus-app-dev npx prisma generate
docker restart opus-app-dev

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–æ–≤ –≤ –ë–î (debug)
docker exec opus-postgres-dev psql -U postgres -d opus_language -c "SELECT name, type, is_archived FROM word_lists;"
```

---

## ‚ùó –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ê–≤—Ç–æ-—Å–ø–∏—Å–∫–∏ –æ–ø–∏—Ä–∞—é—Ç—Å—è –Ω–∞ `createdAt` –∑–∞–ø–∏—Å–∏ —Å–ª–æ–≤–∞—Ä—è. –ï—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
- –¶–≤–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –º–∞—Ä–∫–µ—Ä—ã –∏ –ø–∞–Ω–µ–ª—å).
- –î—Ä–æ–ø–¥–∞—É–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ø–∏—Å–∫–æ–≤ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é.

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `DOCS/README.md` ‚Äî –æ–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- `DOCS/FEATURES.md` ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- `DOCS/TROUBLESHOOTING.md` ‚Äî —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Å–º. —Ä–∞–∑–¥–µ–ª –ø—Ä–æ Prisma Client)
